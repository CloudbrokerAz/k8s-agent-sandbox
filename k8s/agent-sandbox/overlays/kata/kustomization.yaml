apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Kata Containers runtime overlay
# Provides VM-level isolation via Kata Containers
# Requires Kata Containers to be installed on your cluster

resources:
- ../../base

patches:
- patch: |-
    apiVersion: agents.x-k8s.io/v1alpha1
    kind: Sandbox
    metadata:
      name: claude-code-sandbox
    spec:
      podTemplate:
        spec:
          runtimeClassName: kata-qemu

labels:
- pairs:
    app.kubernetes.io/variant: kata
