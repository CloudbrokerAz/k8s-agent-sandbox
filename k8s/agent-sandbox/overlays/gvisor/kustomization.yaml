apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# gVisor runtime overlay
# Provides additional isolation via gVisor sandbox
# Requires gVisor to be installed on your cluster

resources:
- ../../base

patches:
- patch: |-
    apiVersion: agents.x-k8s.io/v1alpha1
    kind: Sandbox
    metadata:
      name: claude-code-sandbox
    spec:
      podTemplate:
        spec:
          runtimeClassName: gvisor

labels:
- pairs:
    app.kubernetes.io/variant: gvisor
