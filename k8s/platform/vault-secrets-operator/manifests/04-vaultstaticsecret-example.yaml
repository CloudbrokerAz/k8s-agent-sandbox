# Example VaultStaticSecret - syncs a secret from Vault to Kubernetes
# This file is an EXAMPLE - customize for your use case
apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: devenv-credentials
  namespace: devenv
spec:
  # Reference to VaultAuth in the same namespace
  vaultAuthRef: devenv-vault-auth

  # Type of secret engine (kv-v2 is default)
  type: kv-v2

  # Mount path of the KV secrets engine in Vault
  mount: secret

  # Path to the secret within the mount
  path: devenv/credentials

  # Destination Kubernetes secret
  destination:
    name: devenv-vault-secrets
    create: true

  # How often to sync (default: 60s)
  refreshAfter: 30s

  # Rollout restart targets when secret changes (optional)
  # rolloutRestartTargets:
  #   - kind: StatefulSet
  #     name: devenv
