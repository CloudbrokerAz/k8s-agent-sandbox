---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: keycloak

resources:
  - 01-namespace.yaml
  - 02-secrets.yaml
  - 03-postgres.yaml
  - 04-deployment.yaml
  - 05-service.yaml
  - 06-realm-init.yaml

commonLabels:
  app.kubernetes.io/part-of: agent-sandbox-platform
  app.kubernetes.io/managed-by: kustomize

# Optional: Configure resource patches or strategic merge patches
# patches:
# - path: patches/production.yaml

# Optional: Add configMapGenerator for non-sensitive configs
# configMapGenerator:
# - name: keycloak-config
#   literals:
#   - KC_HOSTNAME=keycloak.example.com
